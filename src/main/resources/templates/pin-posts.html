<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pin 게시글 목록</title>
    <style>
        body { font-family: system-ui, sans-serif; max-width: 800px; margin: 0 auto; padding: 2rem; }
        h1 { margin-bottom: 1.5rem; }
        a { color: #2563eb; text-decoration: none; }
        a:hover { text-decoration: underline; }
        .post-item { border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
        .post-item h3 { margin: 0 0 0.5rem 0; font-size: 1rem; }
        .post-item p { margin: 0; color: #64748b; font-size: 0.9rem; }
        .back-link { display: inline-block; margin-bottom: 1.5rem; }
    </style>
</head>
<body>
    <a th:href="@{/}" class="back-link">← 지도로 돌아가기</a>
    <h1>Pin #<span th:text="${pinId}">1</span> 관련 게시글</h1>

    <section th:if="${posts != null and !posts.empty}">
        <h2>일반 게시글</h2>
        <div th:each="post : ${posts.content}" class="post-item">
            <h3><a th:href="@{/posts/{id}(id=${post.id})}" th:text="${post.title}">제목</a></h3>
            <p th:text="${post.authorNickname}">작성자</p>
        </div>
    </section>

    <section th:if="${imagePosts != null and !imagePosts.empty}">
        <h2>이미지 게시글</h2>
        <div th:each="ip : ${imagePosts.content}" class="post-item">
            <h3><a th:href="@{/image-posts/{id}(id=${ip.id})}" th:text="${ip.title}">제목</a></h3>
            <p th:text="${ip.authorNickname}">작성자</p>
        </div>
    </section>

    <p th:if="${(posts == null or posts.empty) and (imagePosts == null or imagePosts.empty)}">연결된 게시글이 없습니다.</p>
</body>
</html>
